<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arkanoid.sid - Assembly Analysis</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/vs2015.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.6;
            background: #1e1e1e;
            color: #d4d4d4;
        }
        .container { display: flex; height: 100vh; }

        /* Sidebar */
        .sidebar {
            width: 320px;
            background: #252526;
            border-right: 1px solid #3e3e42;
            overflow-y: auto;
            padding: 20px;
        }
        .sidebar h2 {
            color: #4ec9b0;
            font-size: 16px;
            margin-bottom: 15px;
            border-bottom: 1px solid #3e3e42;
            padding-bottom: 8px;
        }
        .stat-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 20px;
        }
        .stat-item {
            background: #1e1e1e;
            padding: 12px;
            border-radius: 4px;
            text-align: center;
        }
        .stat-value {
            color: #4ec9b0;
            font-size: 24px;
            font-weight: bold;
        }
        .stat-label {
            color: #858585;
            font-size: 11px;
            text-transform: uppercase;
        }
        #search {
            width: 100%;
            padding: 10px;
            background: #3c3c3c;
            border: 1px solid #3e3e42;
            color: #d4d4d4;
            border-radius: 4px;
            margin: 15px 0;
        }
        #search:focus {
            outline: none;
            border-color: #007acc;
        }
        .nav-item {
            padding: 8px 12px;
            cursor: pointer;
            border-radius: 4px;
            margin: 3px 0;
            display: flex;
            justify-content: space-between;
            transition: all 0.2s;
        }
        .nav-item:hover {
            background: #2a2d2e;
            transform: translateX(4px);
        }
        .nav-item.active {
            background: #37373d;
            border-left: 3px solid #007acc;
        }
        .nav-address {
            color: #4ec9b0;
            font-weight: bold;
        }
        .nav-name {
            color: #dcdcaa;
            margin-left: 10px;
        }

        /* Main content */
        .main-content {
            flex-grow: 1;
            overflow-y: auto;
            padding: 30px;
        }
        .page-header {
            background: linear-gradient(135deg, #1e3a8a 0%, #1e1e1e 100%);
            padding: 30px;
            border-radius: 8px;
            margin-bottom: 30px;
            border-left: 5px solid #4ec9b0;
        }
        .page-title {
            color: #4ec9b0;
            font-size: 28px;
            margin-bottom: 10px;
            font-weight: bold;
        }
        .page-meta {
            color: #9cdcfe;
            font-size: 14px;
        }

        /* Section */
        .section {
            background: #252526;
            border-radius: 8px;
            margin-bottom: 25px;
            border: 1px solid #3e3e42;
            overflow: hidden;
        }
        .section-header {
            padding: 18px 24px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #2d2d30;
            transition: background 0.2s;
        }
        .section-header:hover {
            background: #383838;
        }
        .section-title {
            color: #569cd6;
            font-weight: bold;
            font-size: 18px;
        }
        .section-toggle {
            color: #858585;
            font-size: 14px;
            transition: transform 0.3s;
        }
        .section-toggle.collapsed {
            transform: rotate(-90deg);
        }
        .section-content {
            padding: 24px;
            max-height: 10000px;
            overflow: hidden;
            transition: max-height 0.3s ease-out, padding 0.3s;
        }
        .section-content.collapsed {
            max-height: 0;
            padding: 0 24px;
        }

        /* Card */
        .card {
            background: #1e1e1e;
            padding: 20px;
            border-radius: 6px;
            margin-bottom: 15px;
            border-left: 4px solid #dcdcaa;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }
        .card-title {
            color: #dcdcaa;
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 8px;
        }
        .card-subtitle {
            color: #4ec9b0;
            font-size: 13px;
            margin-bottom: 12px;
        }
        .card-content {
            color: #9cdcfe;
            font-size: 14px;
            line-height: 1.8;
        }
        .card-meta {
            display: flex;
            gap: 20px;
            margin-top: 12px;
            font-size: 13px;
            flex-wrap: wrap;
        }
        .meta-badge {
            background: #2d2d30;
            padding: 6px 12px;
            border-radius: 4px;
            color: #9cdcfe;
        }
        .meta-badge strong {
            color: #ce9178;
        }

        /* Table */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        th {
            background: #2d2d30;
            color: #569cd6;
            padding: 12px;
            text-align: left;
            font-weight: bold;
            border-bottom: 2px solid #3e3e42;
        }
        td {
            padding: 10px 12px;
            border-bottom: 1px solid #3e3e42;
        }
        tr:hover {
            background: #2a2d2e;
        }

        /* Warning/Info boxes */
        .warning-box {
            background: linear-gradient(135deg, #4a1c00 0%, #2d2d30 100%);
            border-left: 4px solid #ce9178;
            padding: 18px;
            border-radius: 6px;
            margin-bottom: 12px;
        }
        .warning-title {
            color: #ce9178;
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 15px;
        }
        .warning-text {
            color: #cccccc;
        }
        .info-box {
            background: linear-gradient(135deg, #0a3a2a 0%, #2d2d30 100%);
            border-left: 4px solid #4ec9b0;
            padding: 18px;
            border-radius: 6px;
            margin-bottom: 12px;
        }
        .info-text {
            color: #cccccc;
        }

        /* Highlight effect */
        .highlight {
            animation: highlight-flash 1.5s;
        }
        @keyframes highlight-flash {
            0%, 100% { background: transparent; }
            50% { background: #264f78; }
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 12px;
            height: 12px;
        }
        ::-webkit-scrollbar-track {
            background: #1e1e1e;
        }
        ::-webkit-scrollbar-thumb {
            background: #424242;
            border-radius: 6px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #4e4e4e;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <div class="sidebar">
            <h2>üìä Analysis Stats</h2>
            <div class="stat-grid">
                <div class="stat-item">
                    <div class="stat-value">0</div>
                    <div class="stat-label">Subroutines</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">25</div>
                    <div class="stat-label">Symbols</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">0</div>
                    <div class="stat-label">Patterns</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">0</div>
                    <div class="stat-label">Loops</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">0</div>
                    <div class="stat-label">Dead Code</div>
                </div>
            </div>

            <h2>üìë Quick Jump</h2>
            <div style="margin-bottom: 20px;">
                <button onclick="document.getElementById('player-structure').scrollIntoView({behavior: 'smooth'}); toggleSection('player-structure');"
                        style="width: 100%; padding: 10px; margin: 5px 0; background: #2d2d30; border: 1px solid #3e3e42; color: #cccccc; cursor: pointer; border-radius: 4px; text-align: left;">
                    üèóÔ∏è Player Structure
                </button>
                <button onclick="document.getElementById('ai-tables').scrollIntoView({behavior: 'smooth'}); toggleSection('ai-tables');"
                        style="width: 100%; padding: 10px; margin: 5px 0; background: #2d2d30; border: 1px solid #3e3e42; color: #4ec9b0; cursor: pointer; border-radius: 4px; text-align: left; font-weight: bold;">
                    ü§ñ AI-Detected Tables
                </button>
                <button onclick="document.getElementById('architectural-insights').scrollIntoView({behavior: 'smooth'}); toggleSection('architectural-insights');"
                        style="width: 100%; padding: 10px; margin: 5px 0; background: #2d2d30; border: 1px solid #3e3e42; color: #cccccc; cursor: pointer; border-radius: 4px; text-align: left;">
                    üí° Architectural Insights
                </button>
                <button onclick="document.getElementById('code-org').scrollIntoView({behavior: 'smooth'}); toggleSection('code-org');"
                        style="width: 100%; padding: 10px; margin: 5px 0; background: #2d2d30; border: 1px solid #3e3e42; color: #cccccc; cursor: pointer; border-radius: 4px; text-align: left;">
                    üóÇÔ∏è Code Organization
                </button>
                <button onclick="document.getElementById('subroutines').scrollIntoView({behavior: 'smooth'}); toggleSection('subroutines');"
                        style="width: 100%; padding: 10px; margin: 5px 0; background: #2d2d30; border: 1px solid #3e3e42; color: #cccccc; cursor: pointer; border-radius: 4px; text-align: left;">
                    üîß Subroutines
                </button>
                <button onclick="document.getElementById('loops').scrollIntoView({behavior: 'smooth'}); toggleSection('loops');"
                        style="width: 100%; padding: 10px; margin: 5px 0; background: #2d2d30; border: 1px solid #3e3e42; color: #cccccc; cursor: pointer; border-radius: 4px; text-align: left;">
                    üîÑ Loops
                </button>
                <button onclick="document.getElementById('patterns').scrollIntoView({behavior: 'smooth'}); toggleSection('patterns');"
                        style="width: 100%; padding: 10px; margin: 5px 0; background: #2d2d30; border: 1px solid #3e3e42; color: #cccccc; cursor: pointer; border-radius: 4px; text-align: left;">
                    üîç Code Patterns
                </button>
                <button onclick="document.getElementById('symbols').scrollIntoView({behavior: 'smooth'}); toggleSection('symbols');"
                        style="width: 100%; padding: 10px; margin: 5px 0; background: #2d2d30; border: 1px solid #3e3e42; color: #cccccc; cursor: pointer; border-radius: 4px; text-align: left;">
                    üìù Symbols
                </button>
                <button onclick="document.getElementById('raw-data').scrollIntoView({behavior: 'smooth'}); toggleSection('raw-data');"
                        style="width: 100%; padding: 10px; margin: 5px 0; background: #2d2d30; border: 1px solid #3e3e42; color: #cccccc; cursor: pointer; border-radius: 4px; text-align: left;">
                    üíæ Raw Data
                </button>
                <button onclick="document.getElementById('full-asm').scrollIntoView({behavior: 'smooth'}); toggleSection('full-asm');"
                        style="width: 100%; padding: 10px; margin: 5px 0; background: #2d2d30; border: 1px solid #3e3e42; color: #cccccc; cursor: pointer; border-radius: 4px; text-align: left;">
                    üìú Assembly Code
                </button>
                <button onclick="scrollToEOF();"
                        style="width: 100%; padding: 10px; margin: 5px 0; background: #3e2d2d; border: 1px solid #5e3e3e; color: #ff9999; cursor: pointer; border-radius: 4px; text-align: left; font-weight: bold;">
                    üèÅ Jump to EOF
                </button>
            </div>

            <h2>üîó Subroutine Links</h2>
            <div id="nav-list">
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <div class="page-header">
                <div class="page-title">Arkanoid</div>
                <div class="page-meta">Author: Martin Galway | Player: Martin_Galway | 1987 Imagine</div>
                <div style="margin-top: 10px; padding: 10px; background: #2d2d30; border-radius: 4px; font-size: 12px; color: #858585;">
                    <strong style="color: #569cd6;">SIDM2 v3.0.1</strong> | Generated: 2026-01-02 16:57:08<br>
                    Tools: SIDwinder 0.2.6 + Python SID Parser + Enhanced Player Detector + Python Assembly Annotator + 6502 Register Tracker + Label Name Generator
                </div>
            </div>

            <!-- Player Structure -->
            <div class="section">
                <div class="section-header" onclick="toggleSection('player-structure')">
                    <span class="section-title">üéµ Player Structure</span>
                    <span class="section-toggle">‚ñº</span>
                </div>
                <div class="section-content" id="player-structure">
                    <div class="card">
                        <div class="card-title">Entry Points</div>
                        <div class="card-content">
                            <table>
                                <tr>
                                    <td style="color: #dcdcaa; font-weight: bold;">Load Address:</td>
                                    <td style="color: #4ec9b0; font-family: monospace;">$2000</td>
                                    <td style="color: #858585;">Code/data load point</td>
                                </tr>
                                <tr>
                                    <td style="color: #dcdcaa; font-weight: bold;">Init Routine:</td>
                                    <td style="color: #4ec9b0; font-family: monospace;">$4000</td>
                                    <td style="color: #858585;">Player initialization</td>
                                </tr>
                                <tr>
                                    <td style="color: #dcdcaa; font-weight: bold;">Play Routine:</td>
                                    <td style="color: #4ec9b0; font-family: monospace;">$0000</td>
                                    <td style="color: #858585;">Called every frame (50Hz PAL / 60Hz NTSC)</td>
                                </tr>
                            </table>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-title">Data Tables</div>
                        <div class="card-content">
                            <table>
                                <tr>
                                    <td style="color: #dcdcaa;">Pulse Table:</td>
                                    <td style="color: #4ec9b0; font-family: monospace;">$D411</td>
                                    <td style="color: #858585;">Pulse width modulation</td>
                                </tr>
                                <tr>
                                    <td style="color: #dcdcaa;">Filter Table:</td>
                                    <td style="color: #4ec9b0; font-family: monospace;">$D418</td>
                                    <td style="color: #858585;">Filter parameters</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Architectural Insights -->
            <div class="section">
                <div class="section-header" onclick="toggleSection('arch-insights')">
                    <span class="section-title">üèóÔ∏è Architectural Insights</span>
                    <span class="section-toggle">‚ñº</span>
                </div>
                <div class="section-content" id="arch-insights">
                    <div class="card">
                        <div class="card-title">Standard Player</div>
                        <div class="card-content">Classic SID player architecture with init and play routines</div>
                    </div>
                </div>
            </div>
            <!-- Code Organization -->
            <div class="section">
                <div class="section-header" onclick="toggleSection('code-org')">
                    <span class="section-title">üìê Code Organization</span>
                    <span class="section-toggle">‚ñº</span>
                </div>
                <div class="section-content" id="code-org">
                    <div class="card">
                        <div class="card-title">Memory Layout - Complete Map (0 data sections)</div>
                        <div class="card-content">
                            <div style="font-family: monospace; line-height: 1.6; font-size: 13px;">
                                <div style="color: #4ec9b0; font-weight: bold;">‚Ä¢ <span style="color: #4ec9b0;">$2000</span> - Load Address</div>
                                <div style="color: #569cd6; margin-left: 20px;">‚îú‚îÄ <span style="color: #4ec9b0;">$4000</span> Init | <span style="color: #4ec9b0;">$0000</span> Play</div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-title">Structure Summary</div>
                        <div class="card-content">
                            <table>
                                <tr>
                                    <td style="color: #dcdcaa; font-weight: bold;">Code Sections:</td>
                                    <td style="color: #4ec9b0;">0</td>
                                </tr>
                                <tr>
                                    <td style="color: #dcdcaa; font-weight: bold;">Data Sections:</td>
                                    <td style="color: #4ec9b0;">0</td>
                                </tr>
                                <tr>
                                    <td style="color: #dcdcaa; font-weight: bold;">Total Symbols:</td>
                                    <td style="color: #4ec9b0;">25</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Subroutines -->
            <div class="section">
                <div class="section-header" onclick="toggleSection('subroutines')">
                    <span class="section-title">üîß Subroutines (0)</span>
                    <span class="section-toggle">‚ñº</span>
                </div>
                <div class="section-content" id="subroutines">
                </div>
            </div>

            <!-- Loops -->
            <div class="section">
                <div class="section-header" onclick="toggleSection('loops')">
                    <span class="section-title">üîÑ Loops (0)</span>
                    <span class="section-toggle">‚ñº</span>
                </div>
                <div class="section-content" id="loops">
                </div>
            </div>

            <!-- Symbol Table -->
            <div class="section">
                <div class="section-header" onclick="toggleSection('symbols')">
                    <span class="section-title">üìã Symbol Table (25)</span>
                    <span class="section-toggle">‚ñº</span>
                </div>
                <div class="section-content collapsed" id="symbols">
                    <table>
                        <thead>
                            <tr>
                                <th>Address</th>
                                <th>Type</th>
                                <th>Name</th>
                                <th>Refs</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="color: #4ec9b0; font-weight: bold;">$D400</td>
                                <td style="color: #569cd6;">hardware</td>
                                <td style="color: #dcdcaa;">voice_1_frequency_low</td>
                                <td style="color: #ce9178;">-</td>
                                <td>Voice 1 Frequency Low</td>
                            </tr>
                            <tr>
                                <td style="color: #4ec9b0; font-weight: bold;">$D401</td>
                                <td style="color: #569cd6;">hardware</td>
                                <td style="color: #dcdcaa;">voice_1_frequency_high</td>
                                <td style="color: #ce9178;">-</td>
                                <td>Voice 1 Frequency High</td>
                            </tr>
                            <tr>
                                <td style="color: #4ec9b0; font-weight: bold;">$D402</td>
                                <td style="color: #569cd6;">hardware</td>
                                <td style="color: #dcdcaa;">voice_1_pulse_width_low</td>
                                <td style="color: #ce9178;">-</td>
                                <td>Voice 1 Pulse Width Low</td>
                            </tr>
                            <tr>
                                <td style="color: #4ec9b0; font-weight: bold;">$D403</td>
                                <td style="color: #569cd6;">hardware</td>
                                <td style="color: #dcdcaa;">voice_1_pulse_width_high</td>
                                <td style="color: #ce9178;">-</td>
                                <td>Voice 1 Pulse Width High</td>
                            </tr>
                            <tr>
                                <td style="color: #4ec9b0; font-weight: bold;">$D404</td>
                                <td style="color: #569cd6;">hardware</td>
                                <td style="color: #dcdcaa;">voice_1_control_register</td>
                                <td style="color: #ce9178;">-</td>
                                <td>Voice 1 Control Register</td>
                            </tr>
                            <tr>
                                <td style="color: #4ec9b0; font-weight: bold;">$D405</td>
                                <td style="color: #569cd6;">hardware</td>
                                <td style="color: #dcdcaa;">voice_1_attack/decay</td>
                                <td style="color: #ce9178;">-</td>
                                <td>Voice 1 Attack/Decay</td>
                            </tr>
                            <tr>
                                <td style="color: #4ec9b0; font-weight: bold;">$D406</td>
                                <td style="color: #569cd6;">hardware</td>
                                <td style="color: #dcdcaa;">voice_1_sustain/release</td>
                                <td style="color: #ce9178;">-</td>
                                <td>Voice 1 Sustain/Release</td>
                            </tr>
                            <tr>
                                <td style="color: #4ec9b0; font-weight: bold;">$D407</td>
                                <td style="color: #569cd6;">hardware</td>
                                <td style="color: #dcdcaa;">voice_2_frequency_low</td>
                                <td style="color: #ce9178;">-</td>
                                <td>Voice 2 Frequency Low</td>
                            </tr>
                            <tr>
                                <td style="color: #4ec9b0; font-weight: bold;">$D408</td>
                                <td style="color: #569cd6;">hardware</td>
                                <td style="color: #dcdcaa;">voice_2_frequency_high</td>
                                <td style="color: #ce9178;">-</td>
                                <td>Voice 2 Frequency High</td>
                            </tr>
                            <tr>
                                <td style="color: #4ec9b0; font-weight: bold;">$D409</td>
                                <td style="color: #569cd6;">hardware</td>
                                <td style="color: #dcdcaa;">voice_2_pulse_width_low</td>
                                <td style="color: #ce9178;">-</td>
                                <td>Voice 2 Pulse Width Low</td>
                            </tr>
                            <tr>
                                <td style="color: #4ec9b0; font-weight: bold;">$D40A</td>
                                <td style="color: #569cd6;">hardware</td>
                                <td style="color: #dcdcaa;">voice_2_pulse_width_high</td>
                                <td style="color: #ce9178;">-</td>
                                <td>Voice 2 Pulse Width High</td>
                            </tr>
                            <tr>
                                <td style="color: #4ec9b0; font-weight: bold;">$D40B</td>
                                <td style="color: #569cd6;">hardware</td>
                                <td style="color: #dcdcaa;">voice_2_control_register</td>
                                <td style="color: #ce9178;">-</td>
                                <td>Voice 2 Control Register</td>
                            </tr>
                            <tr>
                                <td style="color: #4ec9b0; font-weight: bold;">$D40C</td>
                                <td style="color: #569cd6;">hardware</td>
                                <td style="color: #dcdcaa;">voice_2_attack/decay</td>
                                <td style="color: #ce9178;">-</td>
                                <td>Voice 2 Attack/Decay</td>
                            </tr>
                            <tr>
                                <td style="color: #4ec9b0; font-weight: bold;">$D40D</td>
                                <td style="color: #569cd6;">hardware</td>
                                <td style="color: #dcdcaa;">voice_2_sustain/release</td>
                                <td style="color: #ce9178;">-</td>
                                <td>Voice 2 Sustain/Release</td>
                            </tr>
                            <tr>
                                <td style="color: #4ec9b0; font-weight: bold;">$D40E</td>
                                <td style="color: #569cd6;">hardware</td>
                                <td style="color: #dcdcaa;">voice_3_frequency_low</td>
                                <td style="color: #ce9178;">-</td>
                                <td>Voice 3 Frequency Low</td>
                            </tr>
                            <tr>
                                <td style="color: #4ec9b0; font-weight: bold;">$D40F</td>
                                <td style="color: #569cd6;">hardware</td>
                                <td style="color: #dcdcaa;">voice_3_frequency_high</td>
                                <td style="color: #ce9178;">-</td>
                                <td>Voice 3 Frequency High</td>
                            </tr>
                            <tr>
                                <td style="color: #4ec9b0; font-weight: bold;">$D410</td>
                                <td style="color: #569cd6;">hardware</td>
                                <td style="color: #dcdcaa;">voice_3_pulse_width_low</td>
                                <td style="color: #ce9178;">-</td>
                                <td>Voice 3 Pulse Width Low</td>
                            </tr>
                            <tr>
                                <td style="color: #4ec9b0; font-weight: bold;">$D411</td>
                                <td style="color: #569cd6;">hardware</td>
                                <td style="color: #dcdcaa;">voice_3_pulse_width_high</td>
                                <td style="color: #ce9178;">-</td>
                                <td>Voice 3 Pulse Width High</td>
                            </tr>
                            <tr>
                                <td style="color: #4ec9b0; font-weight: bold;">$D412</td>
                                <td style="color: #569cd6;">hardware</td>
                                <td style="color: #dcdcaa;">voice_3_control_register</td>
                                <td style="color: #ce9178;">-</td>
                                <td>Voice 3 Control Register</td>
                            </tr>
                            <tr>
                                <td style="color: #4ec9b0; font-weight: bold;">$D413</td>
                                <td style="color: #569cd6;">hardware</td>
                                <td style="color: #dcdcaa;">voice_3_attack/decay</td>
                                <td style="color: #ce9178;">-</td>
                                <td>Voice 3 Attack/Decay</td>
                            </tr>
                            <tr>
                                <td style="color: #4ec9b0; font-weight: bold;">$D414</td>
                                <td style="color: #569cd6;">hardware</td>
                                <td style="color: #dcdcaa;">voice_3_sustain/release</td>
                                <td style="color: #ce9178;">-</td>
                                <td>Voice 3 Sustain/Release</td>
                            </tr>
                            <tr>
                                <td style="color: #4ec9b0; font-weight: bold;">$D415</td>
                                <td style="color: #569cd6;">hardware</td>
                                <td style="color: #dcdcaa;">filter_cutoff_low</td>
                                <td style="color: #ce9178;">-</td>
                                <td>Filter Cutoff Low</td>
                            </tr>
                            <tr>
                                <td style="color: #4ec9b0; font-weight: bold;">$D416</td>
                                <td style="color: #569cd6;">hardware</td>
                                <td style="color: #dcdcaa;">filter_cutoff_high</td>
                                <td style="color: #ce9178;">-</td>
                                <td>Filter Cutoff High</td>
                            </tr>
                            <tr>
                                <td style="color: #4ec9b0; font-weight: bold;">$D417</td>
                                <td style="color: #569cd6;">hardware</td>
                                <td style="color: #dcdcaa;">filter_resonance/routing</td>
                                <td style="color: #ce9178;">-</td>
                                <td>Filter Resonance/Routing</td>
                            </tr>
                            <tr>
                                <td style="color: #4ec9b0; font-weight: bold;">$D418</td>
                                <td style="color: #569cd6;">hardware</td>
                                <td style="color: #dcdcaa;">volume/filter_mode</td>
                                <td style="color: #ce9178;">-</td>
                                <td>Volume/Filter Mode</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <!-- Full Assembly Code -->
            <div class="section">
                <div class="section-header" onclick="toggleSection('full-asm')">
                    <span class="section-title">üìú Fully Annotated Assembly (20 lines)</span>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <div style="position: relative; display: flex; align-items: center; gap: 8px;" onclick="event.stopPropagation();">
                            <input type="text" id="asm-search" placeholder="Search code, data, addresses..."
                                   style="padding: 8px 12px; background: #1e1e1e; border: 1px solid #3e3e42; border-radius: 4px; color: #cccccc; font-size: 13px; width: 500px; outline: none;">
                            <button id="search-prev" style="padding: 6px 12px; background: #2d2d30; border: 1px solid #3e3e42; border-radius: 4px; color: #cccccc; cursor: pointer; font-size: 12px; transition: background 0.2s;" title="Previous match (Shift+Enter)" onmouseover="this.style.background='#383838'" onmouseout="this.style.background='#2d2d30'">‚óÄ</button>
                            <button id="search-next" style="padding: 6px 12px; background: #2d2d30; border: 1px solid #3e3e42; border-radius: 4px; color: #cccccc; cursor: pointer; font-size: 12px; transition: background 0.2s;" title="Next match (Enter)" onmouseover="this.style.background='#383838'" onmouseout="this.style.background='#2d2d30'">‚ñ∂</button>
                            <span style="color: #858585; font-size: 12px; margin-left: 8px;">‚îÇ</span>
                            <button id="zoom-out" style="padding: 6px 12px; background: #2d2d30; border: 1px solid #3e3e42; border-radius: 4px; color: #cccccc; cursor: pointer; font-size: 12px; font-weight: bold; transition: background 0.2s;" title="Zoom out" onmouseover="this.style.background='#383838'" onmouseout="this.style.background='#2d2d30'">‚àí</button>
                            <span id="zoom-level" style="color: #858585; font-size: 11px; min-width: 40px; text-align: center;">100%</span>
                            <button id="zoom-in" style="padding: 6px 12px; background: #2d2d30; border: 1px solid #3e3e42; border-radius: 4px; color: #cccccc; cursor: pointer; font-size: 12px; font-weight: bold; transition: background 0.2s;" title="Zoom in" onmouseover="this.style.background='#383838'" onmouseout="this.style.background='#2d2d30'">+</button>
                            <button id="zoom-reset" style="padding: 6px 10px; background: #2d2d30; border: 1px solid #3e3e42; border-radius: 4px; color: #858585; cursor: pointer; font-size: 11px; transition: background 0.2s;" title="Reset zoom (100%)" onmouseover="this.style.background='#383838'" onmouseout="this.style.background='#2d2d30'">Reset</button>
                            <div id="asm-search-count" style="position: absolute; top: 100%; left: 0; margin-top: 5px; font-size: 11px; color: #858585; white-space: nowrap; display: none;"></div>
                        </div>
                        <span class="section-toggle">‚ñº</span>
                    </div>
                </div>
                <div class="section-content" id="full-asm">
                    <div style="background: #1e1e1e; padding: 20px; border-radius: 6px; max-height: calc(100vh - 300px); overflow-y: scroll; overflow-x: auto; border: 1px solid #3e3e42;">
                        <pre id="asm-code-pre" style="color: #d4d4d4; font-family: 'Consolas', 'Monaco', monospace; font-size: 13px; line-height: 1.8; margin: 0;">;==============================================================================
;==============================================================================
;
;   END OF FILE - Stinsen's Last Night of '89
;
;   SIDM2 Version: 3.0.1
;   Generated: 2026-01-02 16:57:08
;   Total Lines: 13
;
;   Tools Used:
;     - SIDwinder 0.2.6 (Disassembler)
;     - Python SID Parser (Metadata Extraction)
;     - Enhanced Player Detector (Player Identification)
;     - Python Assembly Annotator (Instruction Comments)
;     - 6502 Register Tracker (Data Flow Analysis)
;     - Label Name Generator (Semantic Naming)
;
;==============================================================================
;==============================================================================
</pre>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <script>
        // Toggle section
        function toggleSection(id) {
            const content = document.getElementById(id);
            const header = content.previousElementSibling;
            const toggle = header.querySelector('.section-toggle');

            content.classList.toggle('collapsed');
            toggle.classList.toggle('collapsed');
        }

        // Scroll to element
        function scrollTo(id) {
            const element = document.getElementById(id);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth', block: 'center' });
                element.classList.add('highlight');
                setTimeout(() => element.classList.remove('highlight'), 1500);
            }
        }

        // Scroll to EOF marker
        function scrollToEOF() {
            // Expand the full-asm section if collapsed
            const asmSection = document.getElementById('full-asm');
            if (asmSection && asmSection.classList.contains('collapsed')) {
                toggleSection('full-asm');
            }

            // Wait for expansion animation, then scroll to bottom
            setTimeout(() => {
                const asmContent = document.getElementById('full-asm');
                if (asmContent) {
                    // Scroll the assembly section to the very bottom
                    const pre = asmContent.querySelector('pre');
                    if (pre) {
                        pre.scrollTop = pre.scrollHeight;
                    }
                    // Also scroll the main content to show the assembly section
                    asmContent.scrollIntoView({ behavior: 'smooth', block: 'end' });
                }
            }, 300);
        }

        // Enhanced Search with highlighting in assembly code and raw data
        let currentMatches = [];
        let currentMatchIndex = -1;
        const searchInput = document.getElementById('asm-search');

        function clearHighlights() {
            document.querySelectorAll('.search-highlight').forEach(el => {
                el.outerHTML = el.textContent;
            });
            currentMatches = [];
            currentMatchIndex = -1;
        }

        function highlightMatches(query) {
            clearHighlights();
            if (!query || query.length < 2) return;

            // Search in assembly code section
            const asmSection = document.querySelector('#full-asm pre');
            if (asmSection) {
                highlightInElement(asmSection, query);
            }

            // Search in raw data sections
            document.querySelectorAll('[id^="data-"] pre').forEach(section => {
                highlightInElement(section, query);
            });

            // Update match count
            updateMatchCount();

            // Jump to first match
            if (currentMatches.length > 0) {
                jumpToMatch(0);
            }
        }

        function highlightInElement(element, query) {
            const walker = document.createTreeWalker(
                element,
                NodeFilter.SHOW_TEXT,
                null,
                false
            );

            const textNodes = [];
            while (walker.nextNode()) {
                textNodes.push(walker.currentNode);
            }

            textNodes.forEach(node => {
                const text = node.textContent;
                const lowerText = text.toLowerCase();
                const lowerQuery = query.toLowerCase();
                let index = 0;
                let lastIndex = 0;
                const fragments = [];

                while ((index = lowerText.indexOf(lowerQuery, lastIndex)) !== -1) {
                    // Add text before match
                    if (index > lastIndex) {
                        fragments.push(document.createTextNode(text.substring(lastIndex, index)));
                    }

                    // Add highlighted match
                    const mark = document.createElement('span');
                    mark.className = 'search-highlight';
                    mark.textContent = text.substring(index, index + query.length);
                    mark.style.backgroundColor = '#ffd700';
                    mark.style.color = '#000';
                    mark.style.padding = '2px 4px';
                    mark.style.borderRadius = '3px';
                    fragments.push(mark);
                    currentMatches.push(mark);

                    lastIndex = index + query.length;
                }

                // Add remaining text
                if (lastIndex < text.length) {
                    fragments.push(document.createTextNode(text.substring(lastIndex)));
                }

                // Replace node if we found matches
                if (fragments.length > 0) {
                    const parent = node.parentNode;
                    fragments.forEach(frag => parent.insertBefore(frag, node));
                    parent.removeChild(node);
                }
            });
        }

        function updateMatchCount() {
            const countDisplay = document.getElementById('asm-search-count');
            if (countDisplay) {
                if (currentMatches.length > 0) {
                    countDisplay.textContent = `${currentMatchIndex + 1} of ${currentMatches.length} matches`;
                    countDisplay.style.display = 'block';
                } else {
                    countDisplay.textContent = searchInput.value.length >= 2 ? 'No matches' : '';
                    countDisplay.style.display = searchInput.value.length >= 2 ? 'block' : 'none';
                }
            }
        }

        function jumpToMatch(index) {
            if (currentMatches.length === 0) return;

            // Remove active class from current match
            if (currentMatchIndex >= 0 && currentMatchIndex < currentMatches.length) {
                currentMatches[currentMatchIndex].style.backgroundColor = '#ffd700';
            }

            // Set new index
            currentMatchIndex = index;
            if (currentMatchIndex < 0) currentMatchIndex = currentMatches.length - 1;
            if (currentMatchIndex >= currentMatches.length) currentMatchIndex = 0;

            // Highlight current match
            const match = currentMatches[currentMatchIndex];
            match.style.backgroundColor = '#ff6b35';
            match.scrollIntoView({ behavior: 'smooth', block: 'center' });

            updateMatchCount();
        }

        // Search input handler
        let searchTimeout;
        searchInput.addEventListener('input', function(e) {
            const query = e.target.value;

            // Debounce content search
            clearTimeout(searchTimeout);
            searchTimeout = setTimeout(() => {
                highlightMatches(query);
            }, 300);
        });

        // Keyboard navigation (Enter for next, Shift+Enter for previous)
        searchInput.addEventListener('keydown', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                if (currentMatches.length > 0) {
                    jumpToMatch(e.shiftKey ? currentMatchIndex - 1 : currentMatchIndex + 1);
                }
            } else if (e.key === 'Escape') {
                searchInput.value = '';
                clearHighlights();
                updateMatchCount();
            }
        });

        // Button navigation
        const searchPrevBtn = document.getElementById('search-prev');
        const searchNextBtn = document.getElementById('search-next');

        if (searchPrevBtn) {
            searchPrevBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                if (currentMatches.length > 0) {
                    jumpToMatch(currentMatchIndex - 1);
                }
            });
        }

        if (searchNextBtn) {
            searchNextBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                if (currentMatches.length > 0) {
                    jumpToMatch(currentMatchIndex + 1);
                }
            });
        }

        // Zoom functionality
        const asmCodePre = document.getElementById('asm-code-pre');
        const zoomInBtn = document.getElementById('zoom-in');
        const zoomOutBtn = document.getElementById('zoom-out');
        const zoomResetBtn = document.getElementById('zoom-reset');
        const zoomLevelSpan = document.getElementById('zoom-level');

        let currentZoom = 100; // percentage
        const baseFontSize = 13; // pixels
        const minZoom = 50;
        const maxZoom = 200;
        const zoomStep = 10;

        function updateZoom(newZoom) {
            currentZoom = Math.max(minZoom, Math.min(maxZoom, newZoom));
            const newFontSize = (baseFontSize * currentZoom) / 100;
            if (asmCodePre) {
                asmCodePre.style.fontSize = newFontSize + 'px';
            }
            if (zoomLevelSpan) {
                zoomLevelSpan.textContent = currentZoom + '%';
            }
        }

        if (zoomInBtn) {
            zoomInBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                updateZoom(currentZoom + zoomStep);
            });
        }

        if (zoomOutBtn) {
            zoomOutBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                updateZoom(currentZoom - zoomStep);
            });
        }

        if (zoomResetBtn) {
            zoomResetBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                updateZoom(100);
            });
        }

        // Active navigation on scroll
        const mainContent = document.querySelector('.main-content');
        const navItems = document.querySelectorAll('.nav-item');

        mainContent.addEventListener('scroll', function() {
            const cards = document.querySelectorAll('.card[id^="sub-"]');
            let currentId = null;

            cards.forEach(card => {
                const rect = card.getBoundingClientRect();
                if (rect.top >= 0 && rect.top <= window.innerHeight / 2) {
                    currentId = card.id;
                }
            });

            if (currentId) {
                navItems.forEach(item => {
                    const onclick = item.getAttribute('onclick');
                    if (onclick && onclick.includes(currentId)) {
                        item.classList.add('active');
                    } else {
                        item.classList.remove('active');
                    }
                });
            }
        });
    </script>
</body>
</html>
